@if( loading ) {
    <app-loader></app-loader>
}

<main-layout toolbarTitle="Heroe">
    <main class="p-3">
        <mat-card>
            <mat-card-content>
                <form [formGroup]="form" class="flex flex-row flex-wrap gap-4" (ngSubmit)="handlerForm()">
                    <mat-form-field appearance="outline" class="flex-auto">
                        <mat-label>Name</mat-label>
                        <input matInput formControlName="name">
                        @if( form.controls['name'].invalid && form.controls['name'].touched ) {
                            <mat-error>
                                Name is required
                            </mat-error>
                          } 
                      </mat-form-field>
                      <mat-form-field appearance="outline" class="flex-auto">
                        <mat-label>Alias</mat-label>
                        <input matInput formControlName="alias">
                        @if( form.controls['alias'].invalid && form.controls['alias'].touched ) {
                          <mat-error>
                              Alias is required
                          </mat-error>
                        } 
                        
                      </mat-form-field>
                      <mat-form-field appearance="outline" class="flex-auto">
                        <mat-label>Age</mat-label>
                        <input matInput formControlName="age" type="number">
                        @if( form.controls['age'].invalid && form.controls['age'].touched ) {
                          <mat-error>
                             Age is required and must be older than 17
                          </mat-error>
                        } 
                        
                      </mat-form-field>
                      <mat-form-field appearance="outline" class="flex-auto">
                        <mat-label>Description</mat-label>
                        <textarea matInput formControlName="description"></textarea>
                        @if( form.controls['description'].invalid && form.controls['description'].touched ) {
                          <mat-error>
                              Description is required
                          </mat-error>
                        } 
                      </mat-form-field>

                      
                      <div class="flex-auto" style="width: 100%;">
                        <button color="primary" mat-button [disabled]="form.invalid">
                          @if( hero_id ) {
                            Update a Hero
                          }@else { 
                            Create a Hero
                          }
                        </button>
                      </div>
                </form>
            </mat-card-content>
        </mat-card>
    </main>
</main-layout>
